#+title: My JavaScript Learning Journey
#+author: zijian ying
#+PROPERTY: header-args:js :results output

* Type Conversions
这里是我关于类型转换的笔记。

#+BEGIN_SRC js
let value = true;
console.log(typeof value);
value = String(value);
console.log(typeof value);
#+END_SRC

#+RESULTS:
: boolean
: string

* Math Operations
关于数学运算的学习，比如一元运算符。

#+BEGIN_SRC js
let x = 1;
x = -x;
console.log( x );
#+END_SRC

#+RESULTS:
: -1

#+begin_src js

console.log( 5 % 2 ); // 1, the remainder of 5 divided by 2
console.log( 8 % 3 ); // 2, the remainder of 8 divided by 3
console.log( 8 % 4 ); // 0, the remainder of 8 divided by 4
#+end_src

#+RESULTS:
: 1
: 2
: 0

#+begin_src js

console.log( 2 ** 2 ); // 2² = 4
console.log( 2 ** 3 ); // 2³ = 8
console.log( 2 ** 4 ); // 2⁴ = 16
#+end_src

#+RESULTS:
: 4
: 8
: 16

#+begin_src js
console.log( 4 ** (1/2) ); // 2 (power of 1/2 is the same as a square root)
console.log( 8 ** (1/3) ); // 2 (power of 1/3 is the same as a cubic root)

#+end_src

#+RESULTS:
: 2
: 2

#+begin_src js
let s = "my" + "string";
console.log(s); // mystring

#+end_src

#+RESULTS:
: mystring

#+begin_src js
// No effect on numbers
let x = 1;
console.log( +x ); // 1

let y = -2;
console.log( +y ); // -2

// Converts non-numbers
console.log( +true ); // 1
console.log( +"" );   // 0

#+end_src

#+RESULTS:
: 1
: -2
: 1
: 0

#+begin_src js
let apples = "2";
let oranges = "3";

// both values converted to numbers before the binary plus
console.log( +apples + +oranges ); // 5

// the longer variant
// alert( Number(apples) + Number(oranges) ); // 5

#+end_src

#+RESULTS:
: 5
** task the postix and prefix form -What are the final values of all variables a, b, c and d after the code below?
#+begin_src js

let a = 1, b = 1;

let c = ++a; // ?
let d = b++; // ?
console.log(c)
console.log(a)
console.log(b)
console.log(d)
#+end_src

#+RESULTS:
: 2
: 2
: 2
: 1
** assignment resultk -What are the values of a and x after the code below?
#+begin_src js
let a = 2;

let x = 1 + (a *= 2);

console.log(x)
console.log(a)
#+end_src

#+RESULTS:
: 5
: 4
** types conversions -What are results of these expressions?
#+begin_src js
console.log("" + 1 + 0)
console.log("" - 1 + 0)
console.log(true + false)
console.log(6 / "3")
console.log("2" * "3")
console.log(4 + 5 + "px")
console.log("$" + 4 + 5)
console.log("4" - 2)
console.log("4px" - 2)
console.log("  -9  " + 5)
console.log("  -9  " - 5)
console.log(null + 1)
console.log(undefined + 1)
console.log(" \t \n" - 2)
#+end_src

#+RESULTS:
#+begin_example
10
-1
1
2
6
9px
$45
2
NaN
  -9  5
-14
1
NaN
-2
#+end_example

** fix the addition
#+begin_src js
let a = 1
let b = 2

console.log(a + b); // 12

#+end_src

#+RESULTS:
: 3

* comparisons
#+begin_src js
console.log( 2 > 1 );  // true (correct))
console.log( 2 == 1 ); // false (wrong))
console.log( 2 != 1 ); // true (correct))

#+end_src

#+RESULTS:
: true
: false
: true

** task
#+begin_src js
console.log(5 > 4)
console.log("apple" > "pineapple")
console.log("2" > "12")
console.log(undefined == null)
console.log(undefined === null)
console.log(null == "\n0\n")
console.log(null === +"\n0\n")

#+end_src

#+RESULTS:
: true
: false
: true
: true
: false
: false
: false

* condintional branching if and ?

** task
#+begin_src js
if ("0") {
console.log( 'Hello' );
}

#+end_src

#+RESULTS:
: Hello

#+begin_src js
let cond = ""
if(cond == "ECMAScript"){
console.log("RIGHT")
}else{
console.log("you dont konw , EMCAScript")
}
#+end_src

#+RESULTS:
: you dont konw , EMCAScript

#+begin_src js
let a = 4
let b = 1
let result = a+b <4 ? 'Below':'Over'
console.log(result)
#+end_src

#+RESULTS:
: Over

#+begin_src js
let login = 'jj'
let message;


message = (login == 'Employee') ? 'Hello':(login == 'Director') ? 'Greetings' : (login == '') ? 'No login' : ''
console.log(message)
#+end_src

#+RESULTS:
:
#+begin_src js
for (let i = 0; i < 10; i++) {

  // if true, skip the remaining part of the body
  if (i % 2 == 0) continue;

  console.log(i); // 1, then 3, 5, 7, 9
}

#+end_src

#+RESULTS:
: 1
: 3
: 5
: 7
: 9

#+begin_src js
let i = 3;

while (i) {
  console.log( i-- );
}



#+end_src

#+RESULTS:
: 3
: 2
: 1

#+begin_src js
let i = 0;
while (++i < 5) console.log( i );

let j = 0;
while (j++ < 5) console.log( j );

#+end_src

#+RESULTS:
: 1
: 2
: 3
: 4
: 1
: 2
: 3
: 4
: 5

#+begin_src js
for(let i = 2; i <= 10 ; i++){
let flag = (i % 2 == 0)
    if(flag){
        console.log(i)
   }
}

#+end_src

#+RESULTS:
: 2
: 4
: 6
: 8
: 10

#+begin_src js
for (let i = 0; i < 3; i++) {
  console.log( `number ${i}!` );
}

#+end_src

#+RESULTS:
: number 0!
: number 1!
: number 2!

#+begin_src js
// An integer number greater than 1 is called a prime if it cannot be divided without a remainder by anything except 1 and itself.

// In other words, n > 1 is a prime if it can’t be evenly divided by anything except 1 and n.

// For example, 5 is a prime, because it cannot be divided without a remainder by 2, 3 and 4.

// Write the code which outputs prime numbers in the interval from 2 to n.

// For n = 10 the result will be 2,3,5,7.

// P.S. The code should work for any n, not be hard-tuned for any fixed value.
let n = 10
for(let i = 2; i <= n ; i++){
    let flag = true
    for(let j = 2 ; j < i ; j++){
        if(i % j == 0){
            flag = false
        }
    }
    if(flag == true) console.log(i)
}
#+end_src

#+RESULTS:
: 2
: 3
: 5
: 7
* the switch statement

** task
#+begin_src js
let a = 2 + 2;

switch (a) {
  case 3:
    console.log( 'Too small' );
  case 4:
    console.log( 'Exactly!' );
  case 5:
    console.log( 'Too big' );
  default:
    console.log( "I don't know such values" );
}

#+end_src

#+RESULTS:
: Exactly!
: Too big
: I don't know such values

* functions
** task
#+begin_src js

function showMessage() {
  console.log( 'Hello everyone!' );
}
showMessage()
#+end_src

#+RESULTS:
: Hello everyone!
#+begin_src js
let userName = 'John';

function showMessage() {
  userName = "Bob"; // (1) changed the outer variable

  let message = 'Hello, ' + userName;
  console.log(message);
}

console.log( userName ); // John before the function call

showMessage();

console.log( userName ); // Bob, the value was modified by the function

#+end_src

#+RESULTS:
: John
: Hello, Bob
: Bob

#+begin_src js
let userName = 'John';

function showMessage() {
  let userName = "Bob"; // declare a local variable

  let message = 'Hello, ' + userName; // Bob
  console.log(message);
}

// the function will create and use its own userName
showMessage();

console.log( userName ); // John, unchanged, the function did not access the outer variable


#+end_src

#+RESULTS:
: Hello, Bob
: John

#+begin_src js
// function checkAge(age) {
//   if (age > 18) {
//     return true;
//   } else {
//     return confirm('Did parents allow you?');
//   }
// }
// function checkAge(age) {
//     // 逻辑：如果 (age > 18) 为真，返回 true；否则返回 confirm(...) 的结果
//     return (age > 18) ? true : confirm('Did parents allow you?');
// }
function checkAge(age){
    return (age > 18) || confirm('Did parents allow you?')
    }
console.log(checkAge(99)
)
#+end_src

#+RESULTS:
: true

#+begin_src js
function min(a,b){
    let result = (a < b) ? a: b
    return result
}
console.log(min(1,2))

console.log(min(1,3))
console.log(min(2,8))
console.log(min(9,2))
#+end_src

#+RESULTS:
: 1
: 1
: 2
: 2

#+begin_src js
function pow(base,exp){
    let res = 1
   for(i = 0 ; i < exp ; i++){
      res *=base
   }
    return res
}
console.log(pow(2,3))

console.log(pow(5,3))
console.log(pow(6,3))
console.log(pow(8,3))



#+end_src

#+RESULTS:
: 8
: 125
: 216
: 512
* function experssion
#+begin_src js
function sayHi() {   // (1) create
  console.log( "Hello" );
}

let func = sayHi;    // (2) copy

func(); // Hello     // (3) run the copy (it works)!
sayHi();


#+end_src

#+RESULTS:
: Hello
: Hello


* arrow functions , the basic
** task
#+begin_src js

// Node/Bun 专用测试版
let ask = (question, yes, no) => {
    // 模拟 confirm，这里手动写死 true 或 false 来测试
    let result = true; // 假装用户点了确定
    result ? yes() : no();
}

ask(
  "Do you agree?",
  () => console.log("You agreed."),
  () => console.log("You canceled.")
);
#+end_src

#+RESULTS:
: You agreed.
* javascript special
** task
* object
** task
#+begin_src js
function makeUser(name, age) {
  return {
    name: name,
    age: age,
    // ...other properties
  };
}

let user = makeUser("John", 30);
console.log(user.name); // John

#+end_src

#+RESULTS:
: John
#+begin_src js
let obj = {};
obj.__proto__ = 5; // assign a number
console.log(obj.__proto__); // [object Object] - the value is an object, didn't work as intended

#+end_src

#+RESULTS:
: [Object: null prototype] {}

#+begin_src js
let user = {
  name: "John",
  age: 30,
  isAdmin: true
};

for (let key in user) {
  // keys
  console.log( key );  // name, age, isAdmin
  // values for the keys
  console.log( user[key] ); // John, 30, true
}

#+end_src

#+RESULTS:
: name
: John
: age
: 30
: isAdmin
: true
#+begin_src js
let codes = {
  "49": "Germany",
  "41": "Switzerland",
  "44": "Great Britain",
  // ..,
  "1": "USA"
};

for (let code in codes) {
  console.log(code); // 1, 41, 44, 49
}

#+end_src

#+RESULTS:
: 1
: 41
: 44
: 49

#+begin_src js
// Number(...) explicitly converts to a number
// Math.trunc is a built-in function that removes the decimal part
console.log( String(Math.trunc(Number("49"))) ); // "49", same, integer property
console.log( String(Math.trunc(Number("+49"))) ); // "49", not same "+49" ⇒ not integer property
console.log( String(Math.trunc(Number("1.2"))) ); // "1", not same "1.2" ⇒ not integer property

#+end_src

#+RESULTS:
: 49
: 49
: 1

#+begin_src js
/**
 ,* Write the code, one line for each action:

    Create an empty object user.
    Add the property name with the value John.
    Add the property surname with the value Smith.
    Change the value of the name to Pete.

    Remove the property name from the object.


 ,*/
let obj = {}
obj.name = "John"
obj.surname = "Smith"
obj.name = "Pete"
delete obj.name
for(let ob in obj){
    console.log(obj[ob])
}

#+end_src


#+RESULTS:
: Smith

#+begin_src js
// Write the function isEmpty(obj) which returns true if the object has no properties, false otherwise.


let isEmpty = (obj) => {
    for(let ob in obj){
        return false
    }
    return true
}
let schedule = {};

console.log( isEmpty(schedule) ); // true

schedule["8:30"] = "get up";

console.log( isEmpty(schedule) ); // false

#+end_src

#+RESULTS:
: true
: false

#+begin_src js
let salaries = {
  John: 100,
  Ann: 160,
  Pete: 130
}
let sum = 0
for(let sal in salaries){
    sum += salaries[sal]
    }
console.log(sum)
#+end_src

#+RESULTS:
: 390
#+begin_src js
//Create a function multiplyNumeric(obj) that multiplies all numeric property values of obj by 2. before the call
let multiplyNumeric = (obj) =>{
    for(let pro in obj){
        if(typeof obj[pro] == "number"){
            obj[pro] *=2
        }
    }
}
let menu = {
  width: 200,
  height: 300,
  title: "My menu"
};
let prt = (obj) => {
    Object.keys(obj).forEach(key => {
        console.log(`${key}: ${obj[key]}`);
    });
}
prt(menu)
multiplyNumeric(menu);

prt(menu)
// after the call
menu = {
  width: 400,
  height: 600,
  title: "My menu"
};

#+end_src

#+RESULTS:
: width: 200
: height: 300
: title: My menu
: width: 400
: height: 600
: title: My menu
* object refenrence and copying
** task
#+begin_src js

function makeUser() {
  return {
    name: "John",
    ref: this
  };
}

let user = makeUser();

console.log( user.ref.name ); // What's the result?


#+end_src

#+RESULTS:
: undefined

#+begin_src js
let calculator = (a,b) =>{
  // ... your code ...
    return {

    read(Newa,Newb){
        a = Newa,
        b = Newb
    },
    sum(){
        return a+b
    },
    mul(){
        return a*b
        },
    }
};
let calc = calculator(0,0)
calc.read(1,2);
console.log( calc.sum() );
console.log( calc.mul() );

#+end_src

#+RESULTS:
: 3
: 2

#+begin_src js
let ladder = {
  step: 0,
  up() {
    this.step++;
      return this
  },
  down() {
    this.step--;
     return this
  },
  showStep: function() { // shows the current step
    console.log( this.step );
     return this
  }
};
ladder.showStep().up().down().up().up().up().up().up().up().up().up().showStep()
#+end_src

#+RESULTS:
: 0
: 8

* constructor and operator new
** task
